{"version":3,"file":"static/js/544.3c7bd56d.chunk.js","mappings":"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","sources":["redux/contactsHW7/contactsSelectors.js","redux/contactsHW7/contactsActions.js","components/ContactForm/ContactForm.styled.jsx","components/ContactForm/ContactForm.jsx","components/Filter/Filter.styled.jsx","components/Filter/Filter.jsx","components/ContactList/ContactList.styled.jsx","components/ContactItem/ContactItem.styled.jsx","components/ContactItem/ContactItem.jsx","components/ContactList/ContactList.jsx","views/ContactsView/ContactsView.styled.jsx","views/ContactsView/ContactsView.jsx"],"sourcesContent":["export const selectContacts = state => state.contacts.items;\n\nexport const selectIsLoading = state => state.contacts.isLoading;\n\nexport const selectError = state => state.contacts.error;\n\nexport const selectFilter = state => state.contacts.filter;\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const findContact = createAction('contacts/findContact');\n","import styled from 'styled-components';\n\nexport const Form = styled.form``;\n\nexport const Label = styled.label`\n  display: block;\n  width: 100%;\n  padding: ${props => `${props.theme.space[1]}px`};\n`;\n\nexport const Input = styled.input`\n  width: 75%;\n  padding: ${props => `${props.theme.space[1]}px`};\n  &:not(:last-child) {\n    margin-bottom: ${props => `${props.theme.space[2]}px`};\n  }\n`;\n","import { useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport PropTypes from 'prop-types';\nimport { nanoid } from 'nanoid';\nimport { Box } from '../Box';\nimport { Form, Label, Input } from './ContactForm.styled';\nimport { Button } from '../Button';\n\nexport const ContactForm = ({ onFormSubmit, isLoading }) => {\n  const nameId = nanoid();\n  const phoneID = nanoid();\n\n  //   const [isActive, setIsActive] = useState(false);\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    //     watch,\n    formState,\n    formState: { errors, isSubmitSuccessful },\n  } = useForm({ defaultValues: { name: '', number: '' } });\n\n  const onSubmit = data => {\n    onFormSubmit(data);\n  };\n\n  useEffect(() => {\n    if (formState.isSubmitSuccessful) {\n      reset({ name: '', number: '' });\n    }\n  }, [formState, isSubmitSuccessful, reset]);\n\n  return (\n    <Box\n      display=\"block\"\n      p={2}\n      mb={4}\n      bg=\"bgComponent\"\n      width=\"95%\"\n      borderRadius=\"normal\"\n      boxShadow=\"basic\"\n    >\n      <Form onSubmit={handleSubmit(onSubmit)}>\n        <Label htmlFor={nameId}>Name</Label>\n        <Input\n          id={nameId}\n          type=\"text\"\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n          {...register('name', {\n            required: true,\n            pattern:\n              /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/i,\n          })}\n          aria-invalid={errors.name ? 'true' : 'false'}\n        />\n        {errors.name?.type === 'required' && (\n          <p role=\"alert\">Name is required</p>\n        )}\n        {/* <Label htmlFor={firstNameId}>First name</Label>\n        <Input\n          id={firstNameId}\n          type=\"text\"\n          title=\"First name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n          {...register('firstName', {\n            required: true,\n            pattern:\n              /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/i,\n          })}\n          aria-invalid={errors.firstName ? 'true' : 'false'}\n        />\n        {errors.firstName?.type === 'required' && (\n          <p role=\"alert\">First name is required</p>\n        )} */}\n        <Label htmlFor={phoneID}>Number</Label>\n        <Input\n          id={phoneID}\n          type=\"tel\"\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n          {...register('number', {\n            required: 'Phone number is required',\n            pattern:\n              /\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/i,\n          })}\n          aria-invalid={errors.number ? 'true' : 'false'}\n        />\n        {errors.number && <p role=\"alert\">{errors.number?.message}</p>}\n        <Button type=\"submit\" disabled={isLoading}>\n          Add contact\n        </Button>\n      </Form>\n    </Box>\n  );\n};\n\n// disabled={!data}\n\nContactForm.propTypes = {\n  onFormSubmit: PropTypes.func.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const Label = styled.label`\n  display: block;\n  width: 100%;\n  padding: ${props => `${props.theme.space[1]}px`};\n`;\n\nexport const Input = styled.input`\n  width: 75%;\n  padding: ${props => `${props.theme.space[1]}px`};\n  &:not(:last-child) {\n    margin-bottom: ${props => `${props.theme.space[2]}px`};\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { nanoid } from 'nanoid';\nimport { Box } from '../Box';\nimport { Label, Input } from './Filter.styled';\n\nexport const Filter = ({ onChange }) => {\n  const filterID = nanoid();\n\n  const { register, watch } = useForm();\n\n  const watchFields = watch(['filter']);\n  onChange(watchFields);\n\n  useEffect(() => {\n    const subscription = watch((value, { name, type }) =>\n      console.log(value, name, type)\n    );\n    return () => subscription.unsubscribe();\n  }, [watch]);\n\n  return (\n    <Box\n      display=\"block\"\n      p={2}\n      mb={3}\n      bg=\"bgComponent\"\n      width=\"95%\"\n      borderRadius=\"normal\"\n      boxShadow=\"basic\"\n    >\n      <Label htmlFor={filterID}>Find contacts by name</Label>\n      <Input id={filterID} type=\"text\" {...register('filter')} />\n    </Box>\n  );\n};\n\nFilter.propTypes = {\n  onChange: PropTypes.func,\n};\n","import styled from 'styled-components';\n\nexport const List = styled.ul``;\n","import styled from 'styled-components';\n\nexport const Item = styled.li`\n  display: grid;\n  grid-template-columns: 1fr 1fr 0.5fr;\n  padding: ${props => `${props.theme.space[0]}px`};\n  align-items: center;\n  &:not(:last-child) {\n    margin-bottom: ${props => `${props.theme.space[1]}px`};\n  }\n`;\n\nexport const Name = styled.p`\n  margin-right: ${props => `${props.theme.space[1]}px`};\n`;\n\nexport const Number = styled.p``;\n","import PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\n// import { useDeleteContactMutation } from 'redux/contacts/contacts';\n// import { toast } from 'react-toastify';\nimport { Item, Name, Number } from './ContactItem.styled';\nimport { Button } from '../Button';\nimport { contactsOperations, contactsSelectors } from 'redux/contactsHW7';\n\nexport const ContactItem = ({ id, name, number }) => {\n  const dispatch = useDispatch();\n  const isLoading = useSelector(contactsSelectors.selectIsLoading);\n  // const [deleteContact, { isLoading: isDeleting }] = useDeleteContactMutation();\n  // const notify = text => toast(text);\n\n  return (\n    <Item>\n      <Name>{name + ':'}</Name>\n      <Number>{number}</Number>\n      <Button\n        type=\"button\"\n        onClick={() => dispatch(contactsOperations.deleteContact(id))}\n        disabled={isLoading}\n      >\n        {/* Delete */}\n        {isLoading ? 'Deleting...' : 'Delete'}\n      </Button>\n    </Item>\n  );\n};\n\nContactItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  createdAt: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  number: PropTypes.string.isRequired,\n};\n","import { Box } from '../Box';\nimport { List } from './ContactList.styled';\nimport { ContactItem } from '../ContactItem';\nimport { useSelector } from 'react-redux';\nimport { contactsSelectors } from 'redux/contactsHW7';\n\nexport const ContactList = ({ list }) => {\n  const items = useSelector(contactsSelectors.selectContacts);\n\n  return (\n    <>\n      <h2>Contacts list</h2>\n      <p>{items && items.length > 0 && `Total count ${items.length}`}</p>\n      <Box\n        display=\"block\"\n        p={2}\n        bg=\"bgComponent\"\n        width={1}\n        borderRadius=\"normal\"\n        boxShadow=\"basic\"\n      >\n        <List>\n          {list\n            .map(item => <ContactItem key={item.id} {...item} />)\n            .sort((a, b) => a.props.name.localeCompare(b.props.name))}\n        </List>\n      </Box>\n    </>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Title = styled.h2`\n  margin-bottom: ${props => `${props.theme.space[3]}px`};\n`;\n","import { useMemo, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  contactsOperations,\n  contactsSelectors,\n  contactsSlice,\n} from 'redux/contactsHW7';\nimport { Box } from 'components/Box';\nimport { ContactForm } from 'components/ContactForm';\nimport { Filter } from 'components/Filter';\nimport { ContactList } from 'components/ContactList';\nimport { nanoid } from 'nanoid';\nimport { Title } from './ContactsView.styled';\n\nexport const ContactsView = () => {\n  const dispatch = useDispatch();\n  const isLoading = useSelector(contactsSelectors.selectIsLoading);\n  const error = useSelector(contactsSelectors.selectError);\n  const items = useSelector(contactsSelectors.selectContacts);\n  const filter = useSelector(contactsSelectors.selectFilter);\n\n  useEffect(() => {\n    dispatch(contactsOperations.fetchContacts());\n  }, [dispatch]);\n\n  function handleSubmit({ name, number }) {\n    const checkName = items.some(\n      item => item.name.toLowerCase().trim() === name.toLowerCase().trim()\n    );\n    checkName\n      ? alert(`${name} is already in contacts`)\n      : dispatch(\n          contactsOperations.addContact({\n            id: nanoid(),\n            name,\n            number,\n          })\n        );\n  }\n\n  function onFilterChange([value]) {\n    dispatch(contactsSlice.findContact(value));\n    // if (value && value.length > 0) {\n    //   dispatch(contactsSlice.findContact(value));\n    // } else if (!value) {\n    //   dispatch(contactsSlice.findContact((value = '')));\n    // }\n    // !value\n    //   ? dispatch(contactsSlice.findContact((value = '')))\n    //   : dispatch(contactsSlice.findContact(value));\n  }\n\n  const filteredItems = useMemo(() => {\n    if (filter) {\n      return items.filter(item => {\n        return item.name\n          .toLowerCase()\n          .trim()\n          .includes(filter.toLowerCase().trim());\n      });\n    }\n    return items;\n  }, [filter, items]);\n\n  // function handleDelete(itemID) {\n  //   dispatch(contactsOperations.deleteContact(itemID));\n  // }\n\n  return (\n    <Box\n      width={1}\n      p={4}\n      as=\"main\"\n      paddingTop={75}\n      display=\"grid\"\n      gridTemplateColumns=\"1fr 1fr\"\n    >\n      <Box width={1}>\n        {error && <p>{error}</p>}\n        <Title>Add contact</Title>\n        <ContactForm onFormSubmit={handleSubmit} />\n        <h2>Find contact</h2>\n        <Filter onChange={onFilterChange} />\n      </Box>\n      <Box width={1}>\n        {isLoading && <p>Loading contacts...</p>}\n        {items && items.length > 0 && <ContactList list={filteredItems} />}\n      </Box>\n    </Box>\n  );\n};\n"],"names":["selectContacts","state","contacts","items","selectIsLoading","isLoading","selectError","error","selectFilter","filter","createAction","Form","styled","Label","props","theme","space","Input","ContactForm","onFormSubmit","nameId","nanoid","phoneID","useForm","defaultValues","name","number","register","handleSubmit","reset","formState","errors","isSubmitSuccessful","useEffect","Box","display","p","mb","bg","width","borderRadius","boxShadow","onSubmit","data","htmlFor","id","type","title","required","pattern","role","message","Button","disabled","Filter","onChange","filterID","watch","subscription","value","console","log","unsubscribe","List","Item","Name","Number","ContactItem","dispatch","useDispatch","useSelector","contactsSelectors","onClick","contactsOperations","deleteContact","ContactList","list","length","map","item","sort","a","b","localeCompare","Title","ContactsView","fetchContacts","filteredItems","useMemo","toLowerCase","trim","includes","as","paddingTop","gridTemplateColumns","some","alert","addContact","contactsSlice","findContact"],"sourceRoot":""}